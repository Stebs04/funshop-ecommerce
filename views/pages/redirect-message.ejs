<%# views/pages/redirect-message.ejs %>
<%# Pagina di transizione che mostra un messaggio all'utente e poi lo reindirizza a un'altra pagina. %>
<%# In questa versione del progetto, viene usata ma il messaggio Ã¨ mostrato come un alert JavaScript. %>

<!doctype html>
<html lang="it">
<%- include('../partials/header') %>
<body>
    <%- include('../partials/navbar', { user: user, isAuthenticated: isAuthenticated }) %>

    <main class="container my-5 text-center">
        <%# Titolo e messaggio passati dalla rotta che effettua il reindirizzamento. %>
        <h1><%= title %></h1>
        <p><%= message %></p>
        <div class="spinner-border" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
        <p class="mt-3">Sarai reindirizzato a breve...</p>
    </main>

    <%- include('../partials/footer') %>

    <script>
        // Mostra un pop-up nativo del browser con il messaggio.
        alert('<%= message %>');
        // Dopo che l'utente ha chiuso il pop-up, reindirizza alla pagina specificata in `redirectUrl`.
        window.location.href = '<%= redirectUrl %>';
    </script>
</body>
</html>