<%# views/pages/recensione-venditore.ejs %>
<%# Pagina con il form per lasciare una recensione a un venditore dopo un acquisto. %>

<!doctype html>
<html lang="it">
<%- include('../partials/header') %>
<body class="d-flex flex-column min-vh-100">
<%- include('../partials/navbar') %>

<main class="container my-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow-sm">
                <div class="card-body p-lg-5">
                    <h3 class="card-title text-center mb-2">Recensisci il Venditore</h3>
                    <%# Il testo è dinamico e mostra il nome del prodotto e del venditore, passati dalla rotta. %>
                    <p class="text-muted text-center mb-4">La tua opinione sull'acquisto del prodotto "<%= prodotto.nome %>" dal venditore <strong><%= prodotto.nome_venditore %></strong>.</p>
                    <hr>
                    <%# Il form invia i dati alla rotta /recensioni con metodo POST. %>
                    <form action="/recensioni" method="POST">
                        <%# Campo nascosto per passare l'ID del prodotto a cui si riferisce la recensione. %>
                        <input type="hidden" name="prodotto_id" value="<%= prodotto.id %>">
                        <%# Campo nascosto per specificare a quale pagina tornare dopo aver inviato la recensione (in questo caso, il profilo del venditore). %>
                        <input type="hidden" name="redirectUrl" value="/member/<%= prodotto.user_id %>">
                        
                        <div class="mb-3">
                            <label for="valutazione" class="form-label">Valutazione complessiva dell'esperienza</label>
                            <select class="form-select" id="valutazione" name="valutazione" required>
                                <option value="" disabled selected>Scegli un voto...</option>
                                <option value="5">★★★★★ - Eccellente</option>
                                <option value="4">★★★★☆ - Molto buono</option>
                                <option value="3">★★★☆☆ - Buono</option>
                                <option value="2">★★☆☆☆ - Discreto</option>
                                <option value="1">★☆☆☆☆ - Scarso</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="contenuto" class="form-label">La tua recensione</label>
                            <textarea class="form-control" id="contenuto" name="contenuto" rows="4" required placeholder="Come è stata la tua esperienza con il venditore? Il prodotto era come descritto? La spedizione è stata rapida?"></textarea>
                        </div>
                        <div class="d-grid">
                            <button type="submit" class="btn btn-primary">Invia recensione</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</main>

<%- include('../partials/footer') %>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>