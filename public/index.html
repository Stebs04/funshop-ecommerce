<!doctype html>
<html lang="it">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>FunShop - Tutto ciò che vuoi a portata di click</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;700&display=swap" rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <link rel="stylesheet" href="style.css">

    <script src="scripts/script.js"></script>

    <style>
        /* Modernization Styles */
        body {
            background-color: #f8f9fa;
        }

        .product-card {
            border: none;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            overflow: hidden; /* Ensures the zoomed image stays within the card boundaries */
        }

        .product-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 1rem 3rem rgba(0, 0, 0, 0.175) !important;
        }

        .product-card .card-img-top {
            transition: transform 0.3s ease;
        }

        .product-card:hover .card-img-top {
            transform: scale(1.05);
        }

        .product-card .card-title a {
            transition: color 0.2s ease-in-out;
        }

        .product-card .card-title a:hover {
            color: var(--bs-primary) !important;
        }

        .header-nav-link {
            transition: color 0.2s ease-in-out;
        }
        .header-nav-link:hover {
            color: var(--bs-primary) !important;
        }

        .footer-icon {
            transition: color 0.2s ease-in-out, transform 0.2s ease-in-out;
        }
        .footer-icon:hover {
            color: var(--bs-primary) !important;
            transform: scale(1.1);
        }
    </style>

</head>
<body class="d-flex flex-column min-vh-100">

    <header class="p-3 mb-3 border-bottom sticky-top bg-white shadow-sm">
        <div class="container">
          <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
            <a href="/" class="d-flex align-items-center mb-2 mb-lg-0 text-dark text-decoration-none">
              <img src="immagini/logo.png" alt="Logo" width="40" height="40" style="border-radius: 50%; object-fit: cover;">
            </a>
    
            <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0 ms-lg-4">
              <li><a href="#" class="nav-link px-2 link-secondary header-nav-link">Home</a></li>
              <li class="nav-item dropdown">
                <a class="nav-link px-2 link-dark header-nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Prodotti
                </a>
                <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                  <li><a class="dropdown-item" href="#">Manga</a></li>
                  <li><a class="dropdown-item" href="#">Action Figure</a></li>
                  <li><a class="dropdown-item" href="#">Carte</a></li>
                  <li><a class="dropdown-item" href="#">Videogiochi</a></li>
                </ul>
              </li>
              <li><a href="novità.html" class="nav-link px-2 link-dark header-nav-link">Novità</a></li>
              <li><a href="offerte.html" class="nav-link px-2 link-dark header-nav-link">Offerte</a></li>
              <li><a href="venditore.html" class="nav-link px-2 link-dark header-nav-link">Diventa un venditore</a></li>
            </ul>
    
            <form class="col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3" role="search">
              <input type="search" class="form-control" placeholder="Cerca prodotto..." aria-label="Search">
            </form>
    
            <div class="text-end">
                <script>
                    document.addEventListener('DOMContentLoaded', () => {
                        const profileButton = document.getElementById('profile-button');
                        let profilePreview;
                        let hideProfileTimeout;
                        const HIDE_DELAY = 200; // ms

                        // Funzioni per gestire la visibilità dei popup
                        const hideProfilePreview = () => {
                            if (profilePreview) {
                                profilePreview.style.opacity = '0';
                                profilePreview.style.visibility = 'hidden';
                                profilePreview.style.transform = 'translateY(10px)';
                            }
                        };

                        // Mock di funzioni/variabili per evitare errori se non definite altrove
                        let hideCartTimeout;
                        const hideCartPreview = () => {
                            // Se hai un popup per il carrello, qui andrà la logica per nasconderlo
                        };


                        if (profileButton) {
                            const isUserLoggedIn = () => true; // Cambia in `false` per testare lo stato non loggato

                            if (!isUserLoggedIn()) {
                                profileButton.addEventListener('click', (event) => {
                                    event.preventDefault();
                                    window.location.href = 'registrazione.html';
                                });
                                return;
                            }

                            // Crea il popup del profilo solo se non esiste già
                            if (!document.getElementById('profile-preview')) {
                                profilePreview = document.createElement('div');
                                profilePreview.id = 'profile-preview';
                                profilePreview.innerHTML = `
                                    <a href="registrazione.html" class="profile-link">Il mio account</a>
                                    <a href="impostazioni.html" class="profile-link">Impostazioni</a>
                                    <a href="nuovo-prodotto.html" class="profile-link">Aggiungi un nuovo prodotto</a>
                                    <div style="border-top: 1px solid #eee; margin: 5px 0;"></div>
                                    <a href="#" id="logout-link" class="profile-link">Esci da questo account</a>
                                `;
                                Object.assign(profilePreview.style, {
                                    position: 'absolute', minWidth: '200px', backgroundColor: 'white',
                                    border: '1px solid #ddd', borderRadius: '8px', boxShadow: '0 4px 12px rgba(0,0,0,0.15)',
                                    padding: '5px 0', fontFamily: 'sans-serif', zIndex: '9999',
                                    opacity: '0', visibility: 'hidden', transform: 'translateY(10px)',
                                    transition: 'opacity 0.2s, transform 0.2s, visibility 0.2s'
                                });
                                profilePreview.querySelectorAll('.profile-link').forEach(link => {
                                    Object.assign(link.style, {
                                        display: 'block', padding: '8px 15px', color: '#333',
                                        textDecoration: 'none', fontSize: '14px', transition: 'background-color 0.2s'
                                    });
                                    link.addEventListener('mouseenter', () => link.style.backgroundColor = '#f5f5f5');
                                    link.addEventListener('mouseleave', () => link.style.backgroundColor = 'transparent');
                                });
                                document.body.appendChild(profilePreview);

                                // Aggiungi qui la logica per il logout
                                document.getElementById('logout-link').addEventListener('click', (e) => {
                                    e.preventDefault();
                                    // Aggiungi la tua logica di logout (es. pulire sessione, reindirizzare)
                                    console.log("Utente disconnesso.");
                                    window.location.href = 'index.html';
                                });
                            } else {
                                profilePreview = document.getElementById('profile-preview');
                            }


                            const showProfilePreview = () => {
                                clearTimeout(hideProfileTimeout);
                                clearTimeout(hideCartTimeout); // Cancella il timer dell'altro popup
                                hideCartPreview(); // Nasconde l'altro popup

                                const buttonRect = profileButton.getBoundingClientRect();
                                const previewRect = profilePreview.getBoundingClientRect();
                                profilePreview.style.top = `${buttonRect.bottom + window.scrollY + 5}px`;
                                let leftPosition = buttonRect.right + window.scrollX - previewRect.width;
                                if (leftPosition < 10) leftPosition = 10;
                                profilePreview.style.left = `${leftPosition}px`;
                                profilePreview.style.opacity = '1';
                                profilePreview.style.visibility = 'visible';
                                profilePreview.style.transform = 'translateY(0)';
                            };

                            const startProfileHideTimer = () => {
                                hideProfileTimeout = setTimeout(hideProfilePreview, HIDE_DELAY);
                            };

                            profileButton.addEventListener('click', (event) => {
                                event.preventDefault();
                                if (profilePreview.style.visibility === 'hidden') {
                                    showProfilePreview();
                                } else {
                                    hideProfilePreview();
                                }
                            });

                            [profileButton, profilePreview].forEach(element => {
                                element.addEventListener('mouseenter', showProfilePreview);
                                element.addEventListener('mouseleave', startProfileHideTimer);
                            });
                        } else {
                            console.error('Elemento con id "profile-button" non trovato.');
                        }
                    });
                </script>
                <a id="profile-button" href="utente.html" class="btn btn-primary me-2" title="Il mio Account"><i class="bi bi-person fs-5"></i></a>
                <a id="cart-button" href="#" class="btn btn-primary position-relative" title="cart-button">
                    <i class="bi bi-cart fs-5"></i>
                    <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                      3
                      <span class="visually-hidden">prodotti nel carrello</span>
                    </span>
                </a>
            </div>
          </div>
        </div>
    </header>

    
    <main class="container my-5">
        <h2 class="text-center mb-4 pb-2">Prodotti in Evidenza</h2>
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
            
           <div class="col">
                <div class="card h-100 shadow-sm product-card">
                    <img src="https://images.sbito.it/api/v1/sbt-ads-images-pro/images/41/41e8e8b4-a070-4737-bf0c-6b29561ccf9e?rule=gallery-desktop-1x-auto" class="card-img-top" alt="Action Figure Son Goku">
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">
                            <a href="prodotto.html" class="text-decoration-none text-dark stretched-link">
                                Action Figure Son Goku
                            </a>
                        </h5>
                        <p class="card-text text-muted small">Dragon Ball Z</p>
                        <p class="card-text text-primary small">Venduto da USER920</p>
                        <div class="mt-auto d-flex justify-content-between align-items-center">
                            <span class="fw-bold fs-5">€49,99</span>
                            <a href="#" class="btn btn-sm btn-primary" style="position: relative; z-index: 2;">
                                <i class="bi bi-cart-plus-fill fs-5"></i>
                            </a>
                        </div>
                    </div>
                    <div class="card-footer bg-transparent border-top-0 text-center">
                        <small class="text-success fw-bold">Condizioni pari al nuovo</small>
                    </div>
                </div>
            </div>

           <div class="col">
                <div class="card h-100 shadow-sm product-card">
                    <img src="https://images.sbito.it/api/v1/sbt-ads-images-pro/images/5e/5e4b6310-312c-4aa6-bff7-02f0bb2e59d9?rule=gallery-desktop-1x-auto" class="card-img-top" alt="Lotto carte YU-GI-OH">
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">
                            <a href="prodotto.html" class="text-decoration-none text-dark stretched-link">
                                Lotto carte YU-GI-OH
                            </a>
                        </h5>
                        <p class="card-text text-muted small">YU-GI-OH</p>
                        <p class="card-text text-primary small">Venduto da USER12121</p>
                        <div class="mt-auto d-flex justify-content-between align-items-center">
                            <span class="fw-bold fs-5">€49,99</span>
                            <a href="#" class="btn btn-sm btn-primary" style="position: relative; z-index: 2;">
                                <i class="bi bi-cart-plus-fill fs-5"></i>
                            </a>
                        </div>
                    </div>
                    <div class="card-footer bg-transparent border-top-0 text-center">
                        <small class="text-success fw-bold">Perfette condizioni</small>
                    </div>
                </div>
            </div>

            <div class="col">
                <div class="card h-100 shadow-sm product-card">
                    <img src="https://images.sbito.it/api/v1/sbt-ads-images-pro/images/91/91402add-144d-4b0d-8f76-3d1b9b8aa65c?rule=gallery-desktop-1x-auto" class="card-img-top" alt="Manga One Piece">
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">
                            <a href="prodotto.html" class="text-decoration-none text-dark stretched-link">
                                Manga One Piece Vol. 1
                            </a>
                        </h5>
                        <p class="card-text text-muted small">One Piece</p>
                        <p class="card-text text-primary small">Venduto da USER920</p>
                        <div class="mt-auto d-flex justify-content-between align-items-center">
                            <span class="fw-bold fs-5">€4,50</span>
                            <a href="#" class="btn btn-sm btn-primary" style="position: relative; z-index: 2;">
                                <i class="bi bi-cart-plus-fill fs-5"></i>
                            </a>
                        </div>
                    </div>
                    <div class="card-footer bg-transparent border-top-0 text-center">
                        <small class="text-warning fw-bold">Buone condizioni</small>
                    </div>
                </div>
            </div>

            <div class="col">
                <div class="card h-100 shadow-sm product-card">
                    <img src="https://images.sbito.it/api/v1/sbt-ads-images-pro/images/a5/a5851802-989e-4960-aaf3-86ece6c4715b?rule=gallery-desktop-1x-auto" class="card-img-top" alt="Action Figure Naruto">
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">
                            <a href="prodotto.html" class="text-decoration-none text-dark stretched-link">
                                Action Figure Naruto
                            </a>
                        </h5>
                        <p class="card-text text-muted small">Naruto Shippuden</p>
                        <p class="card-text text-primary small">Venduto da USER789</p>
                        <div class="mt-auto d-flex justify-content-between align-items-center">
                            <span class="fw-bold fs-5">€35,00</span>
                            <a href="#" class="btn btn-sm btn-primary" style="position: relative; z-index: 2;">
                                <i class="bi bi-cart-plus-fill fs-5"></i>
                            </a>
                        </div>
                    </div>
                    <div class="card-footer bg-transparent border-top-0 text-center">
                        <small class="text-success fw-bold">Condizioni pari al nuovo</small>
                    </div>
                </div>
            </div>

            <div class="col">
                <div class="card h-100 shadow-sm product-card">
                    <img src="https://images1.vinted.net/t/01_01627_Db5pCJUdmMZJkBCnFNMcNRAR/f800/1759345021.jpeg?s=91982b1a7735c2961df44adb291c57dafa09291f" class="card-img-top" alt="Felpa Stranger Things">
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">
                            <a href="prodotto.html" class="text-decoration-none text-dark stretched-link">
                                Felpa Stranger Things
                            </a>
                        </h5>
                        <p class="card-text text-muted small">Abbigliamento</p>
                        <p class="card-text text-primary small">Venduto da USER456</p>
                        <div class="mt-auto d-flex justify-content-between align-items-center">
                            <span class="fw-bold fs-5">€25,99</span>
                            <a href="#" class="btn btn-sm btn-primary" style="position: relative; z-index: 2;">
                                <i class="bi bi-cart-plus-fill fs-5"></i>
                            </a>
                        </div>
                    </div>
                    <div class="card-footer bg-transparent border-top-0 text-center">
                        <small class="text-success fw-bold">Nuovo con etichetta</small>
                    </div>
                </div>
            </div>

            <div class="col">
                <div class="card h-100 shadow-sm product-card">
                    <img src="https://images1.vinted.net/t/04_0097b_GKhHbRcKjZSCj1WVjxDHRabr/f800/1758519054.jpeg?s=f2dc4857fa61ab57e28f2b6f0f8f4f12e60a4a92" class="card-img-top" alt="Minix Kobra Kai">
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">
                            <a href="prodotto.html" class="text-decoration-none text-dark stretched-link">
                                Minix Kobra Kai
                            </a>
                        </h5>
                        <p class="card-text text-muted small">Action Figure</p>
                        <p class="card-text text-primary small">Venduto da USER920</p>
                        <div class="mt-auto d-flex justify-content-between align-items-center">
                            <span class="fw-bold fs-5">€14,99</span>
                            <a href="#" class="btn btn-sm btn-primary" style="position: relative; z-index: 2;">
                                <i class="bi bi-cart-plus-fill fs-5"></i>
                            </a>
                        </div>
                    </div>
                    <div class="card-footer bg-transparent border-top-0 text-center">
                        <small class="text-success fw-bold">Condizioni pari al nuovo</small>
                    </div>
                </div>
            </div>

            <div class="col">
                <div class="card h-100 shadow-sm product-card">
                    <img src="https://images1.vinted.net/t/02_02308_SK28WAGesdfUM9rjfXvf1pet/f800/1759322265.jpeg?s=746dfbe41a1e902331e9917b83fd7335709ee7e2" class="card-img-top" alt="Replica badge serie tv Dexter">
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">
                            <a href="prodotto.html" class="text-decoration-none text-dark stretched-link">
                                Replica badge Dexter
                            </a>
                        </h5>
                        <p class="card-text text-muted small">Collezionismo</p>
                        <p class="card-text text-primary small">Venduto da USER111</p>
                        <div class="mt-auto d-flex justify-content-between align-items-center">
                            <span class="fw-bold fs-5">€19,99</span>
                            <a href="#" class="btn btn-sm btn-primary" style="position: relative; z-index: 2;">
                                <i class="bi bi-cart-plus-fill fs-5"></i>
                            </a>
                        </div>
                    </div>
                    <div class="card-footer bg-transparent border-top-0 text-center">
                        <small class="text-success fw-bold">Condizioni pari al nuovo</small>
                    </div>
                </div>
            </div>

            <div class="col">
                <div class="card h-100 shadow-sm product-card">
                    <img src="https://images1.vinted.net/t/03_01f85_LiJ7oWVfbSPA3DarggxTb1Nh/f800/1759322111.jpeg?s=fcd6b07a110e85f19b81a4e7c71bc9857045579b" class="card-img-top" alt="Funko Pop Konshu Marvel">
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">
                            <a href="prodotto.html" class="text-decoration-none text-dark stretched-link">
                                Funko Pop Konshu Marvel
                            </a>
                        </h5>
                        <p class="card-text text-muted small">Funko Pop</p>
                        <p class="card-text text-primary small">Venduto da USER920</p>
                        <div class="mt-auto d-flex justify-content-between align-items-center">
                            <span class="fw-bold fs-5">€22,50</span>
                            <a href="#" class="btn btn-sm btn-primary" style="position: relative; z-index: 2;">
                                <i class="bi bi-cart-plus-fill fs-5"></i>
                            </a>
                        </div>
                    </div>
                    <div class="card-footer bg-transparent border-top-0 text-center">
                        <small class="text-success fw-bold">Condizioni pari al nuovo</small>
                    </div>
                </div>
            </div>

        </div>
    </main>
    <footer class="mt-auto bg-body-tertiary py-4">
        <div class="container">
          <ul class="nav justify-content-center pb-3 mb-3">
            <li class="nav-item"><a href="information.html#chi-siamo" class="nav-link px-2 text-muted header-nav-link">Chi Siamo</a></li>
            <li class="nav-item"><a href="information.html#spedizioni" class="nav-link px-2 text-muted header-nav-link">Spedizioni</a></li>
            <li class="nav-item"><a href="information.html#privacy-policy" class="nav-link px-2 text-muted header-nav-link">Privacy Policy</a></li>
            <li class="nav-item"><a href="information.html#contatti" class="nav-link px-2 text-muted header-nav-link">Contatti</a></li>
          </ul>
          <div class="d-flex flex-column flex-sm-row justify-content-between align-items-center">
            <p class="mb-3 mb-sm-0 text-muted">© 2025 FunShop. Tutti i diritti riservati.</p>
            <ul class="list-unstyled d-flex mb-0">
              <li class="ms-3"><a class="link-dark" href="#"><i class="bi bi-twitter-x fs-4 footer-icon"></i></a></li>
              <li class="ms-3"><a class="link-dark" href="#"><i class="bi bi-instagram fs-4 footer-icon"></i></a></li>
              <li class="ms-3"><a class="link-dark" href="#"><i class="bi bi-facebook fs-4 footer-icon"></i></a></li>
            </ul>
          </div>
        </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>